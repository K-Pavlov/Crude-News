@using CrudeNews.Web.Models;
@using CrudeNews.Web.Models.Articles

@model KeyValuePair<CategoryViewModel, IList<ArticleSmallViewModel>>
@if (this.Model.Value.Any())
{
    <div id="article-carousel" class="carousel slide" data-interval="3000" data-ride="carousel">

        <ol class="carousel-indicators">
            @for (int i = 0; i < this.Model.Value.Count; i++)
            {
                <li data-target="#article-carousel" data-slide-to="@i" @MvcHtmlString.Create(i == 0 ? "class = \"active\"" : "")></li>
            }
        </ol>

        <div class="carousel-inner">
            @for (int i = 0; i < this.Model.Value.Count; i++)
            {
                var currentArticle = this.Model.Value[i];
                <div class="@MvcHtmlString.Create(i == 0 ? "active" : "") item">
                    <a href="Articles/Show/@currentArticle.ID">
                        <img class="article-img" src="@Url.Content(currentArticle.ImagePath)" />
                    </a>
                    <h4>@currentArticle.Title</h4>
                    <div class="carousel-caption">
                        <p>@currentArticle.DateCreated</p>
                    </div>
                </div>
            }
        </div>

        <a class="carousel-control left" href="#article-carousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a class="carousel-control right" href="#article-carousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
    </div>
}
